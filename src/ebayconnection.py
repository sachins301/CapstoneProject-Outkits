import http.client
import json
import requests

url = "https://api.ebay.com/buy/browse/v1/item_summary/search?q=Nike%20SB%20MF%20DOOM&limit=10"

payload = {}
headers = {
  'Authorization': 'Bearer v^1.1#i^1#I^3#r^0#f^0#p^1#t^H4sIAAAAAAAAAOVYf2wTVRxf122mgUECBnBMKQcSYd713fX3SUu6dZMKrIOWRSYE313fbceud83dO7rGuMxqiPoHJiBEJZOJP8AgEY0uEqIxOIMxomII/mEUAZM50WB0qGEmeNeV0U3CrzWxie0fzX3f933f5/P5fr/vvR7oqbIt2bJ8y5/VltvK+3pAT7nFQk8BtqrKumnW8prKMlDgYOnrWdhTkbX+uFSDSSnFrkFaSpE1ZO9KSrLG5owBQldlVoGaqLEyTCKNxTwbC61ayTIUYFOqghVekQh7JBwgGKfb7/EAjyDwCd7p4gyrfDlmXAkQLq+Xo31cgnc5oYenfca4pukoImsYytiYDxgXCdykE8QZJ+v2sbSf8njdbYS9FamaqMiGCwWIYA4um5urFmC9NlSoaUjFRhAiGAk1xaKhSLixOb7UURArmNchhiHWtfFPDUoC2VuhpKNrL6PlvNmYzvNI0whHcHSF8UHZ0GUwtwA/JzWEDIcSPOSBG0DoLIqSTYqahPjaMEyLmCCFnCuLZCzizPUENcTgNiEe55+ajRCRsN38Wa1DSRREpAaIxvrQulBLCxGMQb5DlGM6GV0bXxGJx8iWNWESmERdHtpLMozg9gsI5tcZDZYXecJCDYqcEE3JNHuzguuRARpNlMZVII3hFJWjakjAJqAxPzoO6DEJQZuZ0tEc6rhDNrOKkoYO9tzj9RMwNhtjVeR0jMYiTBzIKWRkOpUSE8TEwVwl5ounSwsQHRinWIcjnU5TaSelqO0OBgDa8eCqlTG+AyUhkfM1e930F68/gRRzVHhkzNREFmdSBpYuo1INAHI7EXT5nS4/ndd9PKzgROu/DAWcHeP7oVj94QHQzwCvjxM8gOMYVIwGCeZr1GHiQBzMkEmodiKckiCPSN6oMz2JVDHBOt0C4/QJiEx4/ALp8gsCybkTHpIWEAIIcRzv9/2P+uRGKz2GeBXhIpV6kco8Xt/lYyKbgb66uSHaUCetcXqZ9FomnLyfjjXWRepSK1eIUcemKGpaF7jRZrgq+QZJNJSJG+uXXq8vVzSMEpOiF+OVFGpRJJHPlFaCnWqiBao4E0OSZBgmRTKUSkWKtVUXid7N7RK3RruYJ9R/cjpdlZVmVmxpsTLna0YAmBIp8/yheCXpUKCOzV7vMM0bc6gnxVs0bq0lxdogOcpWTIzeNymTcgelbeYpFWmKrho3bSpq3r/iSieSjeMMq4okIbV1chVgtnMyqWPISajU+roIBS7CEjtraa/xpQ1e/knx4nMn6cZS25KKtRNX1N/8ndox/v99sCz3obOWIyBr+aDcYgFLwd30AjC/yrq2wjq1RhMxokQoUJrYLht/W1VEdaJMCopq+cyy3/bsWN5Q0xjdueSReObLXUfLpha8XujbAOaMvWCwWekpBW8bQO2VkUp6+uxqxgXcTsA43T7a3wYWXBmtoGdV3N6WHX5/2nfb9s78ufvXOz4VskeOP3sAVI85WSyVZRVZS5n7w969g/emn79wZujchu2tf2zSZ3Cn+nedrnfNbfllhu2V7lPC34P7tr6YcV96d/8L896eO3TfsmPiR61fnD8zcs/nf93Z9FnjPumJ534a7CWn/z4cpnovtn98aM8njwbDU48PDdTrTx+tfuDVux66OBToT4cfC3y/pOrwkPWd7i3fnBZsHuJsdCt9jBy6dODcZsuFwyse3z374NGv55+L9M+ZM/BUcvEspunkLveMbK1tmHsz/kZd35HwV8umDR88W919qOfb3oHtO/zHu15ef+Ik+9JI9/pn1ObBnaR1YGRR7Oy282+9V7uofx7w1x6kTj25uFvcr5zY8/Du9MaaTjduYGwj+1+vWfjDa+RoLv8BCvXnX/gRAAA='
}

response = requests.request("GET", url, headers=headers, data=payload)

print(response.json())

#
# conn = http.client.HTTPSConnection("api.ebay.com")
#
# headers = {
#     'Authorization': 'Bearer v^1.1#i^1#p^1#r^0#I^3#f^0#t^H4sIAAAAAAAAAOVYe2wURRi/64tAKVXwUashxxYkcNm72b2913p3yfUBPfu4wl1BiEj2MdsuvdtddmZpLxI5S0SDwYiGEoINSARCNAbU+CKa2GBIJEH5A4iaaIgoSogkGoMYEXe3pVwrAaSX2MT75zLffPPN7/eb75uZHZCvmLpwU/OmS1XOKSW78yBf4nRSlWBqRbl7RmlJbbkDFDg4d+fn5sv6S3+MIC6b0dilEGmqgqCrL5tREGsbo4ShK6zKIRmxCpeFiMUCm4q3tbK0B7CarmJVUDOEK9EYJcQQxcMgJ0g+fyAI+aBpVa7FTKtRgg/xDEMBIPKSJArhkNmPkAETCsKcgqMEDWiGBH6SYtIAsD4fywQ8IR+1knAtgzqSVcV08QAiZsNl7bF6AdabQ+UQgjo2gxCxRHxRKhlPNDa1pyPeglixER1SmMMGGttqUEXoWsZlDHjzaZDtzaYMQYAIEd7Y8Axjg7Lxa2DuAL4tdRjAoJ/iKT4AeTokgKJIuUjVsxy+OQ7LIoukZLuyUMEyzt1KUVMNfg0U8Eir3QyRaHRZf0sMLiNLMtSjRFN9fEW8o4OIpTihW1ZSBpnsTLck0imyY2kjCTgB+JkAFSRpWvKHJciNzDMcbETlcRM1qIooW5ohV7uK66EJGo6Xhi6QxnRKKkk9LmELUKEffU1COrjSWtPhRTRwt2ItK8yaOrjs5q0XYHQ0xrrMGxiORhjfYSsUJThNk0VifKediiPZ04eiRDfGGuv19vb2enp9HlXv8tIAUN7H2lpTQjfMcoTla9W67S/fegAp21QEaI5EMotzmomlz0xVE4DSRcSYsI8JUyO6j4UVG2/9h6GAs3dsQRSrQPggHWZCYVFkOBD2cVIxCiQ2kqNeCwfkuRyZ5fQeiLUMJ0BSMPPMyEJdFlmfX6J9IQmSYiAskUxYkkjeLwZISoIQQMjz5ub3P6qT2830FBR0iIuT6sVK83R9X4hOrAPGkvaGZIM7s9QXpHs76cbsYirV5E64tdYWOeldk4SLVkRvtxhuSL4hI5vKpM35J1+tN6sIQ3FC9FKCqsEONSMLucm1wD5d7OB0nEvBTMY0TIhkXNMSRdqqi0Xv3+0Sd0a7iCfUf3M63ZAVsjJ2crGyxiMzAKfJHuv88Qhq1qtyhlXruNsyr7ZRT4i3bF5bJxVrk+QwW1kcvm96TMq424PWCR4dItXQzau2J2ndv9JqD1TM4wzraiYD9WUTywCrnLNZA3N8Bk62ui5CgsvcJDtrqSDlDzCBEB2YEC/BPklXT7YtqUg7cVnDHdypvWM/8GMO+0f1O4dAv/PjEqcTRMA8qg7MqSjtLCudXotkDD0yJ3mQ3KWY36069PTAnMbJesksxy97tjU31DYlBxY+mc59sfOoY3rB+8LuVaBm9IVhailVWfDcAB663lNOVd9fRTPATzEA+HxMYCWou95bRt1Xds+BvWy120sdrnk71/fOsZqfHY70EKgadXI6yx1l/U5HpLNq3Zw9S57eVtd18tQ0bduOh4fIjZfP7/0r8e3JQxsSy33rj5e/eejsa7MHT/yW2vk85V770ov7B77evuXVeCQ545lpiYvVX66vWrvjaPypWPCBC1sXv/XNqg/PL+g69P7MrUZL+N4z4iOb8/UDwgcLd7wS8b+g7K/E80vOX/xkzq/bNx+csjPfeeHTwbl3z74yvwdVxdoi7VWX93m/Wv7dTHnrrBMnHnTMOxaoOdv2Obdv3uHT6y+fO8cMvOz+vWnGu6f2/dmyR/ro0TObYq18qOPK1Z+OVG85+/2xXbUbn43Pr7v6xHs/sH907bp0oHn16+7+iv2BIwePv7G2fXDDc6fdlbHawbtmD4XQgsc/G15Kx9+6FGG7+REAAA=='
# }
#
# conn.request("GET", "/buy/browse/v1/item_summary/search?q=nike&limit=10", headers=headers)
#
# res = conn.getresponse()
# data = res.read()
#
# # Decode the bytes data to a string
# data_str = data.decode("utf-8")
# print(data_str)

if response.status_code == 200:
    # Extract JSON content from the response
    json_content = response.json()

    # Save the JSON content to a file
    with open('../resources/ebaydata.json', 'w') as f:
        json.dump(json_content, f)

    print("JSON file saved successfully.")
else:
    print("Error:", response.status_code)

